# ğŸµ éŸ³ä¹ç†è®ºæ¸¸æˆåŒ–å­¦ä¹ å¹³å° - å¼€å‘æ ‡å‡†ä¹¦

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#2-æŠ€æœ¯æ¶æ„)
3. [ä»£ç è§„èŒƒ](#3-ä»£ç è§„èŒƒ)
4. [æ–‡ä»¶ç»“æ„](#4-æ–‡ä»¶ç»“æ„)
5. [ç»„ä»¶è®¾è®¡](#5-ç»„ä»¶è®¾è®¡)
6. [çŠ¶æ€ç®¡ç†](#6-çŠ¶æ€ç®¡ç†)
7. [éŸ³é¢‘å¤„ç†](#7-éŸ³é¢‘å¤„ç†)
8. [æµ‹è¯•æ ‡å‡†](#8-æµ‹è¯•æ ‡å‡†)
9. [æ€§èƒ½è¦æ±‚](#9-æ€§èƒ½è¦æ±‚)
10. [éƒ¨ç½²è§„èŒƒ](#10-éƒ¨ç½²è§„èŒƒ)
11. [æ–‡æ¡£è¦æ±‚](#11-æ–‡æ¡£è¦æ±‚)
12. [ç‰ˆæœ¬æ§åˆ¶](#12-ç‰ˆæœ¬æ§åˆ¶)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡
- **æ„¿æ™¯**: å°†ä¹ç†å­¦ä¹ åšæˆ"å¥½ç©ã€å¯è§†åŒ–ã€å¯åšæŒ"çš„äº’åŠ¨æ¸¸æˆ
- **ç›®æ ‡ç”¨æˆ·**: éŸ³ä¹é›¶åŸºç¡€/åˆå­¦è€…ï¼Œè‡ªå­¦ä¹å™¨äººç¾¤ï¼ŒK12éŸ³ä¹è¯¾å ‚
- **æˆåŠŸæ ‡å‡†**: æ¬¡å‘¨ç•™å­˜ â‰¥ 35%ï¼Œå¹³å‡å­¦ä¹ æ—¶é•¿ â‰¥ 12åˆ†é’Ÿï¼Œå®Œæˆé¦–æ¡å­¦ä¹ è·¯å¾„ â‰¥ 60%

### 1.2 æŠ€æœ¯é€‰å‹
- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript 5
- **æ„å»ºå·¥å…·**: Vite 5
- **éŸ³é¢‘å¼•æ“**: Tone.js 14
- **çŠ¶æ€ç®¡ç†**: Zustand (è®¡åˆ’)
- **UIæ¡†æ¶**: Tailwind CSS + Radix UI (è®¡åˆ’)
- **æµ‹è¯•æ¡†æ¶**: Jest + React Testing Library
- **éƒ¨ç½²å¹³å°**: Vercel/Netlify

---

## 2. æŠ€æœ¯æ¶æ„

### 2.1 æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                å‰ç«¯å±‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  React Components â”‚ Audio Engine â”‚ UI   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           çŠ¶æ€ç®¡ç†å±‚ (Zustand)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ä¸šåŠ¡é€»è¾‘å±‚ (Hooks/Utils)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        æ•°æ®å±‚ (LocalStorage/API)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ¨¡å—åˆ’åˆ†
- **Core**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **Audio**: éŸ³é¢‘å¤„ç†å¼•æ“
- **UI**: ç”¨æˆ·ç•Œé¢ç»„ä»¶
- **Game**: æ¸¸æˆé€»è¾‘
- **Utils**: å·¥å…·å‡½æ•°
- **Types**: ç±»å‹å®šä¹‰

---

## 3. ä»£ç è§„èŒƒ

### 3.1 TypeScript è§„èŒƒ

#### 3.1.1 ç±»å‹å®šä¹‰
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç»“æ„
interface GameState {
  score: number;
  level: number;
  isPlaying: boolean;
}

// âœ… æ¨èï¼šä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹
type GameMode = 'memory' | 'matching' | 'rhythm';

// âœ… æ¨èï¼šä½¿ç”¨ enum å®šä¹‰å¸¸é‡
enum NoteType {
  WHOLE = 'whole',
  HALF = 'half',
  QUARTER = 'quarter',
  EIGHTH = 'eighth'
}
```

#### 3.1.2 å‡½æ•°å®šä¹‰
```typescript
// âœ… æ¨èï¼šæ˜ç¡®çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹
const calculateScore = (correct: number, total: number): number => {
  return Math.round((correct / total) * 100);
};

// âœ… æ¨èï¼šä½¿ç”¨æ³›å‹
const createGameState = <T>(initialState: T): GameState<T> => {
  // ...
};
```

### 3.2 React ç»„ä»¶è§„èŒƒ

#### 3.2.1 ç»„ä»¶ç»“æ„
```typescript
// âœ… æ¨èï¼šå‡½æ•°ç»„ä»¶ + TypeScript
interface NoteCardProps {
  note: string;
  solfege: string;
  isRevealed: boolean;
  onClick: (note: string) => void;
}

const NoteCard: React.FC<NoteCardProps> = ({
  note,
  solfege,
  isRevealed,
  onClick
}) => {
  // 1. Hooks
  const [isAnimating, setIsAnimating] = useState(false);
  
  // 2. äº‹ä»¶å¤„ç†å‡½æ•°
  const handleClick = useCallback(() => {
    onClick(note);
    setIsAnimating(true);
  }, [note, onClick]);
  
  // 3. å‰¯ä½œç”¨
  useEffect(() => {
    // ...
  }, []);
  
  // 4. æ¸²æŸ“
  return (
    <div className="note-card" onClick={handleClick}>
      {/* JSX */}
    </div>
  );
};

export default NoteCard;
```

#### 3.2.2 å‘½åè§„èŒƒ
- **ç»„ä»¶å**: PascalCase (å¦‚: `NoteGame`, `AudioEngine`)
- **æ–‡ä»¶å**: PascalCase (å¦‚: `NoteGame.tsx`)
- **Hookå**: camelCaseï¼Œä»¥ `use` å¼€å¤´ (å¦‚: `useAudioEngine`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (å¦‚: `NOTE_DATA`, `GAME_CONFIG`)

### 3.3 ä»£ç é£æ ¼

#### 3.3.1 æ ¼å¼åŒ–è§„åˆ™
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Prettier é…ç½®
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

#### 3.3.2 æ³¨é‡Šè§„èŒƒ
```typescript
/**
 * è®¡ç®—éŸ³ç¬¦åŒ¹é…å¾—åˆ†
 * @param correct æ­£ç¡®ç­”æ¡ˆæ•°é‡
 * @param total æ€»é¢˜ç›®æ•°é‡
 * @param timeBonus æ—¶é—´å¥–åŠ±ç³»æ•°
 * @returns æœ€ç»ˆå¾—åˆ†
 */
const calculateScore = (
  correct: number,
  total: number,
  timeBonus: number = 1
): number => {
  const baseScore = (correct / total) * 100;
  return Math.round(baseScore * timeBonus);
};
```

---

## 4. æ–‡ä»¶ç»“æ„

### 4.1 ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ components/           # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/              # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ game/            # æ¸¸æˆç›¸å…³ç»„ä»¶
â”‚   â””â”€â”€ audio/           # éŸ³é¢‘ç›¸å…³ç»„ä»¶
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”œâ”€â”€ constants/           # å¸¸é‡å®šä¹‰
â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ audio/           # éŸ³é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ images/          # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ data/            # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”œâ”€â”€ services/            # APIæœåŠ¡
â””â”€â”€ styles/              # æ ·å¼æ–‡ä»¶
```

### 4.2 æ–‡ä»¶å‘½åè§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶**: `ComponentName.tsx`
- **Hookæ–‡ä»¶**: `useHookName.ts`
- **å·¥å…·æ–‡ä»¶**: `utilityName.ts`
- **ç±»å‹æ–‡ä»¶**: `types.ts` æˆ– `ComponentName.types.ts`
- **å¸¸é‡æ–‡ä»¶**: `constants.ts` æˆ– `CONSTANT_NAME.ts`

---

## 5. ç»„ä»¶è®¾è®¡

### 5.1 ç»„ä»¶åˆ†ç±»

#### 5.1.1 åŸºç¡€ç»„ä»¶ (UI Components)
```typescript
// åŸºç¡€æŒ‰é’®ç»„ä»¶
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'danger';
  size: 'small' | 'medium' | 'large';
  disabled?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
}

const Button: React.FC<ButtonProps> = ({
  variant,
  size,
  disabled,
  children,
  onClick
}) => {
  // å®ç°
};
```

#### 5.1.2 ä¸šåŠ¡ç»„ä»¶ (Business Components)
```typescript
// æ¸¸æˆç»„ä»¶
interface GameProps {
  mode: GameMode;
  difficulty: Difficulty;
  onComplete: (score: number) => void;
}

const Game: React.FC<GameProps> = ({ mode, difficulty, onComplete }) => {
  // å®ç°
};
```

### 5.2 ç»„ä»¶è®¾è®¡åŸåˆ™
1. **å•ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
2. **å¯å¤ç”¨æ€§**: é€šè¿‡propsæ§åˆ¶ç»„ä»¶è¡Œä¸º
3. **å¯æµ‹è¯•æ€§**: ç»„ä»¶é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæµ‹è¯•
4. **æ€§èƒ½ä¼˜åŒ–**: åˆç†ä½¿ç”¨memoã€useMemoã€useCallback

---

## 6. çŠ¶æ€ç®¡ç†

### 6.1 çŠ¶æ€ç®¡ç†ç­–ç•¥
```typescript
// ä½¿ç”¨ Zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†
interface GameStore {
  // çŠ¶æ€
  currentGame: GameState | null;
  userProgress: UserProgress;
  audioSettings: AudioSettings;
  
  // æ“ä½œ
  startGame: (mode: GameMode) => void;
  updateScore: (score: number) => void;
  completeGame: () => void;
  updateAudioSettings: (settings: Partial<AudioSettings>) => void;
}

const useGameStore = create<GameStore>((set, get) => ({
  // å®ç°
}));
```

### 6.2 çŠ¶æ€ç®¡ç†åŸåˆ™
1. **æœ€å°åŒ–çŠ¶æ€**: åªå­˜å‚¨å¿…è¦çš„çŠ¶æ€
2. **çŠ¶æ€å½’ä¸€åŒ–**: é¿å…é‡å¤æ•°æ®
3. **ä¸å¯å˜æ€§**: ä½¿ç”¨ä¸å¯å˜æ›´æ–°
4. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹

---

## 7. éŸ³é¢‘å¤„ç†

### 7.1 éŸ³é¢‘å¼•æ“è§„èŒƒ
```typescript
// éŸ³é¢‘å¼•æ“æ¥å£
interface AudioEngine {
  // åˆå§‹åŒ–
  initialize: () => Promise<void>;
  
  // éŸ³ç¬¦æ’­æ”¾
  playNote: (note: string, duration?: string) => void;
  playSequence: (notes: string[], interval?: number) => void;
  
  // èŠ‚æ‹å™¨
  startMetronome: (bpm: number) => void;
  stopMetronome: () => void;
  
  // éŸ³æ•ˆ
  playEffect: (type: EffectType) => void;
  
  // æ¸…ç†
  dispose: () => void;
}
```

### 7.2 éŸ³é¢‘å¤„ç†åŸåˆ™
1. **èµ„æºç®¡ç†**: åŠæ—¶é‡Šæ”¾éŸ³é¢‘èµ„æº
2. **é”™è¯¯å¤„ç†**: ä¼˜é›…å¤„ç†éŸ³é¢‘åˆå§‹åŒ–å¤±è´¥
3. **æ€§èƒ½ä¼˜åŒ–**: é¢„åŠ è½½å¸¸ç”¨éŸ³é¢‘èµ„æº
4. **ç”¨æˆ·ä½“éªŒ**: æä¾›éŸ³é¢‘å¼€å…³é€‰é¡¹

---

## 8. æµ‹è¯•æ ‡å‡†

### 8.1 æµ‹è¯•ç­–ç•¥
```typescript
// å•å…ƒæµ‹è¯•ç¤ºä¾‹
describe('NoteGame', () => {
  it('should render note cards correctly', () => {
    render(<NoteGame />);
    expect(screen.getByText('C')).toBeInTheDocument();
  });
  
  it('should handle card click events', () => {
    const mockOnClick = jest.fn();
    render(<NoteCard note="C" onClick={mockOnClick} />);
    fireEvent.click(screen.getByText('C'));
    expect(mockOnClick).toHaveBeenCalledWith('C');
  });
});
```

### 8.2 æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- **å•å…ƒæµ‹è¯•**: â‰¥ 80%
- **é›†æˆæµ‹è¯•**: æ ¸å¿ƒä¸šåŠ¡æµç¨‹
- **E2Eæµ‹è¯•**: å…³é”®ç”¨æˆ·è·¯å¾„

---

## 9. æ€§èƒ½è¦æ±‚

### 9.1 æ€§èƒ½æŒ‡æ ‡
- **é¦–å±åŠ è½½æ—¶é—´**: < 2.5s
- **äº¤äº’å“åº”æ—¶é—´**: < 100ms
- **éŸ³é¢‘å»¶è¿Ÿ**: < 5ms
- **å†…å­˜ä½¿ç”¨**: < 100MB

### 9.2 ä¼˜åŒ–ç­–ç•¥
1. **ä»£ç åˆ†å‰²**: ä½¿ç”¨åŠ¨æ€å¯¼å…¥
2. **èµ„æºä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©ï¼ŒéŸ³é¢‘å‹ç¼©
3. **ç¼“å­˜ç­–ç•¥**: åˆç†ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜
4. **æ‡’åŠ è½½**: éå…³é”®èµ„æºå»¶è¿ŸåŠ è½½

---

## 10. éƒ¨ç½²è§„èŒƒ

### 10.1 ç¯å¢ƒé…ç½®
```typescript
// ç¯å¢ƒå˜é‡é…ç½®
interface EnvConfig {
  NODE_ENV: 'development' | 'production' | 'test';
  VITE_API_URL: string;
  VITE_AUDIO_CDN: string;
  VITE_ANALYTICS_ID?: string;
}
```

### 10.2 éƒ¨ç½²æµç¨‹
1. **ä»£ç æ£€æŸ¥**: ESLint + TypeScript æ£€æŸ¥
2. **æµ‹è¯•è¿è¡Œ**: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
3. **æ„å»ºä¼˜åŒ–**: ç”Ÿäº§ç¯å¢ƒæ„å»º
4. **éƒ¨ç½²éªŒè¯**: åŠŸèƒ½æµ‹è¯• + æ€§èƒ½æµ‹è¯•

---

## 11. æ–‡æ¡£è¦æ±‚

### 11.1 ä»£ç æ–‡æ¡£
- **README**: é¡¹ç›®ä»‹ç»å’Œå¿«é€Ÿå¼€å§‹
- **APIæ–‡æ¡£**: ç»„ä»¶å’Œå‡½æ•°è¯´æ˜
- **å˜æ›´æ—¥å¿—**: ç‰ˆæœ¬æ›´æ–°è®°å½•

### 11.2 å¼€å‘æ–‡æ¡£
- **æ¶æ„è®¾è®¡**: ç³»ç»Ÿæ¶æ„è¯´æ˜
- **å¼€å‘æŒ‡å—**: æ–°å¼€å‘è€…å…¥é—¨
- **éƒ¨ç½²æŒ‡å—**: éƒ¨ç½²æµç¨‹è¯´æ˜

---

## 12. ç‰ˆæœ¬æ§åˆ¶

### 12.1 Git è§„èŒƒ
```bash
# åˆ†æ”¯å‘½å
feature/note-game-memory
bugfix/audio-delay-issue
hotfix/critical-audio-bug

# æäº¤ä¿¡æ¯æ ¼å¼
feat: add memory card game component
fix: resolve audio initialization issue
docs: update development standards
```

### 12.2 ç‰ˆæœ¬ç®¡ç†
- **ä¸»ç‰ˆæœ¬**: é‡å¤§åŠŸèƒ½æ›´æ–°
- **æ¬¡ç‰ˆæœ¬**: æ–°åŠŸèƒ½æ·»åŠ 
- **ä¿®è®¢ç‰ˆæœ¬**: é—®é¢˜ä¿®å¤

---

## ğŸ“ é™„å½•

### A. å¼€å‘å·¥å…·é…ç½®
- **VS Code**: æ¨èæ’ä»¶åˆ—è¡¨
- **ESLint**: ä»£ç æ£€æŸ¥è§„åˆ™
- **Prettier**: ä»£ç æ ¼å¼åŒ–é…ç½®
- **Husky**: Git hooks é…ç½®

### B. å¸¸ç”¨å‘½ä»¤
```bash
# å¼€å‘
npm run dev

# æ„å»º
npm run build

# æµ‹è¯•
npm run test

# ä»£ç æ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–
npm run format
```

### C. å‚è€ƒèµ„æº
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/)
- [Tone.js æ–‡æ¡£](https://tonejs.github.io/)
- [Vite æŒ‡å—](https://vitejs.dev/guide/)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ  

> æœ¬å¼€å‘æ ‡å‡†ä¹¦æ˜¯é¡¹ç›®å¼€å‘çš„é‡è¦æŒ‡å¯¼æ–‡æ¡£ï¼Œæ‰€æœ‰å¼€å‘è€…éƒ½åº”ä¸¥æ ¼éµå®ˆã€‚å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·åŠæ—¶åé¦ˆã€‚
